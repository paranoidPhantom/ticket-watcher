version: '3.8'

services:
  ticket-watcher:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: ticket-watcher
    restart: unless-stopped
    environment:
      - NODE_ENV=production
      # Uncomment and set your environment variables here
      # - BOT_TOKEN=${BOT_TOKEN}
      # - BOT_ADMIN_ID=${BOT_ADMIN_ID}
    volumes:
      # Mount a volume for the SQLite database to persist data
      - ticket-data:/usr/src/app/data
    # If you need to expose ports for webhooks (unlikely for Telegram bot)
    # ports:
    #   - "3000:3000"
    # Use secrets for sensitive data in production
    # secrets:
    #   - bot_token
    #   - admin_id

volumes:
  ticket-data:
    driver: local

# Uncomment if using secrets
# secrets:
#   bot_token:
#     file: ./secrets/bot_token.txt
#   admin_id:
#     file: ./secrets/admin_id.txt